TODO:
 empty file


=============================== 23.6. ================================

#include <stdio.h>
#include <dirent.h>
#include <errno.h>
#include <err.h>
#include <memory.h>
#include <stdlib.h>
#include <string.h>

bool
explor(DIR*d) {
	
	return (true);
}

int
main(int argc, char *argv[])
{
	int i;
	DIR *d;
	struct dirent *de;
	char *lom, *name;
	lom = "/";

	if (argc == 1)
			errx(1, "usage: %s dir1 [dir2 [dir3 ...]]", argv[0]);

	for (i = 1; i < argc; i++) {
			printf("== [%s] ==\n", argv[i]);
			if ((d = opendir(argv[i])) == NULL) {
					warn("%s", argv[i]);
					continue;
			}

			errno = 0;
			while ((de = readdir(d)) != NULL) {
					/* composing filename */
					name = (char *) malloc(2 + strlen(argv[i]) + strlen(de->d_name));
					strcpy(name, argv[i]);
					strcat(name, lom);
					strcat(name, de->d_name);
					/* figuring out, whether file or dir*/
					//TODO

					if (errno != 0)
							warn("%s", name);
					errno=0;
			}
			closedir(d);
	}

	return (0);
}
